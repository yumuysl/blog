import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,f as e,o as n}from"./app-Csjy8zdn.js";const l={};function t(r,s){return n(),a("div",null,[...s[0]||(s[0]=[e(`<h2 id="添加评论功能-2023-9-19" tabindex="-1"><a class="header-anchor" href="#添加评论功能-2023-9-19"><span>添加评论功能 2023.9.19</span></a></h2><h3 id="一、采用waline实现评论功能" tabindex="-1"><a class="header-anchor" href="#一、采用waline实现评论功能"><span>一、采用Waline实现评论功能</span></a></h3><ul><li>具体查看<a href="https://ecosystem.vuejs.press/zh/plugins/blog/comment/waline/#vercel-%E9%83%A8%E7%BD%B2-%E6%9C%8D%E5%8A%A1%E7%AB%AF" target="_blank" rel="noopener noreferrer">官网</a>说明</li></ul><h4 id="leancloud" tabindex="-1"><a class="header-anchor" href="#leancloud"><span>Leancloud</span></a></h4><p>在<a href="https://console.leancloud.app/" target="_blank" rel="noopener noreferrer">leancloud</a>平台注册后，再去 <a href="https://console.leancloud.app/apps/7SHIQE88Skt22kMirdC8CQ3S-MdYXbMMI/" target="_blank" rel="noopener noreferrer">这里</a>，点击应用凭证，记住Appid、Appkey、Masterkey三串字符；</p><h5 id="vercel" tabindex="-1"><a class="header-anchor" href="#vercel"><span>Vercel</span></a></h5><p>上述步骤完毕后，登录<a href="https://vercel.com/" target="_blank" rel="noopener noreferrer">Vercel</a>快速部署，导入一个空项目后，界面如下： <img src="https://notesreord.oss-cn-beijing.aliyuncs.com/code/网站更新记录-评论-vercel.jpg?x-oss-code-xxx" alt="vercel" loading="lazy"> 之后下拉直接点击Deloy部署，网络好的话看到Congratulations就说明部署好了，不过这个部署后还不管用，点击GO to Dashboard来到项目版面，进入Settings，找到Enviroment Variables，分别添加 LEAN_ID、LEAN_KEY、LEAN_MASTER_KEY，其值分别对应上述的appid、Appkey、Masterkey的值，做好这些后，在porject中点击visit，然后发现打不开，查了一圈后发现vercel.app被污染了（被墙），当然如果有已经备案的域名，可以在setting中配置好后就可以打开，由于本人不想这么搞，那只能next了。</p><h5 id="theme-ts文件" tabindex="-1"><a class="header-anchor" href="#theme-ts文件"><span>theme.ts文件</span></a></h5><p>如果上述两部没问题，在配置文件中plugins中配置如下：</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-js"><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">comment</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  provider</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Waline&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  serverURL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;https://你的域名.vercel.app&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="二、采用giscus实现评论系统-面向程序员" tabindex="-1"><a class="header-anchor" href="#二、采用giscus实现评论系统-面向程序员"><span>二、采用Giscus实现评论系统（面向程序员）</span></a></h3><h4 id="github设置" tabindex="-1"><a class="header-anchor" href="#github设置"><span>github设置</span></a></h4><ol><li>在github创建一个公开仓库，在该仓库设置中开启评论区以存放评论；</li><li>安装<a href="https://github.com/apps/giscus" target="_blank" rel="noopener noreferrer">Giscus APP</a>，这步是为了是本地有权限访问对应仓库；</li><li>前往<a href="https://giscus.app/zh-CN" target="_blank" rel="noopener noreferrer">Giscus说明页面</a>，填写仓库和Discussion分类（只填这两个就行），启用giscus，复制data-repo, data-repo-id, data-category 和 data-category-id 四项。</li></ol><h4 id="配置" tabindex="-1"><a class="header-anchor" href="#配置"><span>配置</span></a></h4><p>在theme.js中plugins部分，将data-repo, data-repo-id, data-category 和 data-category-id 作为插件选项传入 repo, repoId, category categoryId，如下：</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-js"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">plugins</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    comment</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">      provider</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Giscus&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">      repo</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;xxx&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">      repoId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;xxx&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">      category</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;xxx&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">      categoryId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;xxx&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,16)])])}const d=i(l,[["render",t]]),o=JSON.parse('{"path":"/plan/website/%E6%B7%BB%E5%8A%A0%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F.html","title":"添加评论系统","lang":"zh-CN","frontmatter":{"title":"添加评论系统","date":"2023-09-19T00:00:00.000Z","icon":"file","description":"记录添加评论系统的过程","article":false,"feed":false,"seo":false,"head":[]},"git":{"createdTime":1697384107000,"updatedTime":1758398236000,"contributors":[{"name":"bestoAloe","username":"","email":"286258752@qq.com","commits":9},{"name":"bestoaloe","username":"","email":"yinchuanyjw@outlook.com","commits":7},{"name":"yumuysl","username":"","email":"yinchuanyjw@outlook.com","commits":2}]},"readingTime":{"minutes":1.71,"words":512},"filePathRelative":"plan/website/添加评论系统.md"}');export{d as comp,o as data};
