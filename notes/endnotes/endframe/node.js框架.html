<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.24" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.94" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Node.jsæ¡†æ¶","image":[""],"datePublished":"2025-02-17T00:00:00.000Z","dateModified":"2025-09-20T19:57:16.000Z","author":[{"@type":"Person","name":"ç¦¹ç©†ç©†"}]}</script><meta property="og:url" content="https://bestoaloe.gitee.io/notes/endnotes/endframe/node.js%E6%A1%86%E6%9E%B6.html"><meta property="og:site_name" content="ç¦¹ç©†ç©†"><meta property="og:title" content="Node.jsæ¡†æ¶"><meta property="og:description" content="æ¥è§¦åˆ°çš„node.jsæ¡†æ¶"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2025-09-20T19:57:16.000Z"><meta property="article:published_time" content="2025-02-17T00:00:00.000Z"><meta property="article:modified_time" content="2025-09-20T19:57:16.000Z"><link rel="icon" href="/.vuepress/public/favicon.ico"><title>Node.jsæ¡†æ¶ | ç¦¹ç©†ç©†</title><meta name="description" content="æ¥è§¦åˆ°çš„node.jsæ¡†æ¶">
    <link rel="preload" href="/assets/style-Bcip0boI.css" as="style"><link rel="stylesheet" href="/assets/style-Bcip0boI.css">
    <link rel="modulepreload" href="/assets/app-DtzJMAxv.js"><link rel="modulepreload" href="/assets/node.jsæ¡†æ¶.html-D5GpQNTR.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/assets/intro.html-CISbZU3d.js" as="script"><link rel="prefetch" href="/assets/index.html-BxVPj8Mk.js" as="script"><link rel="prefetch" href="/assets/index.html-CsdThiTm.js" as="script"><link rel="prefetch" href="/assets/index.html-DigD_RX4.js" as="script"><link rel="prefetch" href="/assets/index.html-Cnp_3v2I.js" as="script"><link rel="prefetch" href="/assets/index.html-DXzYMRul.js" as="script"><link rel="prefetch" href="/assets/æˆé•¿æ¸…å•.html-DXHT_Se6.js" as="script"><link rel="prefetch" href="/assets/aboutme.html-fH3fLdqX.js" as="script"><link rel="prefetch" href="/assets/friendlink.html-D4XriBHb.js" as="script"><link rel="prefetch" href="/assets/index.html-CGNVykWk.js" as="script"><link rel="prefetch" href="/assets/toolink.html-CN8FsA4t.js" as="script"><link rel="prefetch" href="/assets/index.html-B2_zt3c7.js" as="script"><link rel="prefetch" href="/assets/Lazyvimç¼–è¾‘å™¨.html-CaLvNhNb.js" as="script"><link rel="prefetch" href="/assets/index.html-CQ0z2KYO.js" as="script"><link rel="prefetch" href="/assets/win11å¼€æœºè‡ªåŠ¨æ‰§è¡Œè„šæœ¬æ–‡ä»¶.html-bcRZI-hF.js" as="script"><link rel="prefetch" href="/assets/å†…ç½‘ç©¿é€.html-BbVQqXaN.js" as="script"><link rel="prefetch" href="/assets/å®ç°æ‰‹æœºå±å¹•æ›¿æ¢ç”µè„‘é¼ æ ‡.html-CrkLs6B4.js" as="script"><link rel="prefetch" href="/assets/å¼€æºé¡¹ç›®é¿å‘æŒ‡å—.html-B-QtHE1d.js" as="script"><link rel="prefetch" href="/assets/æå‡vimç¼–è¾‘ä½“éªŒ.html-D7RT1dSN.js" as="script"><link rel="prefetch" href="/assets/index.html-Cf7l9NTk.js" as="script"><link rel="prefetch" href="/assets/index.html-8rGUh60S.js" as="script"><link rel="prefetch" href="/assets/index.html-1Y13fg4s.js" as="script"><link rel="prefetch" href="/assets/å»è¿‡çš„åœ°æ–¹.html-BQKYli8k.js" as="script"><link rel="prefetch" href="/assets/è¿™ä¸ªä¸èƒ½å¿.html-epG8Shde.js" as="script"><link rel="prefetch" href="/assets/è¿™ä¸ªå¿…é¡»å¤¸.html-BGexnFBL.js" as="script"><link rel="prefetch" href="/assets/è¿™ä¸ªè¿˜èƒ½å¿.html-pt3RPjhc.js" as="script"><link rel="prefetch" href="/assets/index.html-9GN1gCCP.js" as="script"><link rel="prefetch" href="/assets/ä¸€äº›æƒ³æ³•.html-BWOD_r3s.js" as="script"><link rel="prefetch" href="/assets/ä¸€äº›æœ‰æ„æ€çš„è°ˆè®ºæˆ–å®éªŒ.html-DiBmvtjc.js" as="script"><link rel="prefetch" href="/assets/æ¯›é€‰.html-CwZav6xv.js" as="script"><link rel="prefetch" href="/assets/index.html-CNA-M7AE.js" as="script"><link rel="prefetch" href="/assets/index.html-BV6q7ksQ.js" as="script"><link rel="prefetch" href="/assets/ä¸ªäººç¬”è®°.html-aQ8GlTA-.js" as="script"><link rel="prefetch" href="/assets/index.html-XXvIjwcd.js" as="script"><link rel="prefetch" href="/assets/ä¸€äººå…¬å¸.html-CE2m2lBL.js" as="script"><link rel="prefetch" href="/assets/ä¹¦å•.html-BcqRTOvm.js" as="script"><link rel="prefetch" href="/assets/åšå®¢è®°å½•æ–¹å¼.html-fu1UicxZ.js" as="script"><link rel="prefetch" href="/assets/å¿«é€Ÿè°ƒç ”æ³•.html-CSvRZkmH.js" as="script"><link rel="prefetch" href="/assets/æŠ€èƒ½æˆé•¿ç­–ç•¥.html-CQXAUz8H.js" as="script"><link rel="prefetch" href="/assets/index.html-BTXhV_sx.js" as="script"><link rel="prefetch" href="/assets/index.html-F8PruRSZ.js" as="script"><link rel="prefetch" href="/assets/index.html-CrVlICSw.js" as="script"><link rel="prefetch" href="/assets/vuepresså¤‡å¿˜å½•.html-BQBUaf3m.js" as="script"><link rel="prefetch" href="/assets/åšå®¢é—®é¢˜è®°å½•.html-D3y3TDyq.js" as="script"><link rel="prefetch" href="/assets/å›¾åºŠæ­å»º.html-llmKIoR4.js" as="script"><link rel="prefetch" href="/assets/æ·»åŠ è¯„è®ºç³»ç»Ÿ.html-D0NDAItd.js" as="script"><link rel="prefetch" href="/assets/index.html-RNac59eV.js" as="script"><link rel="prefetch" href="/assets/æ¯›ç»ç’ƒæ•ˆæœ.html-nZGMD5rR.js" as="script"><link rel="prefetch" href="/assets/index.html-BJLnAyE5.js" as="script"><link rel="prefetch" href="/assets/ä¿„ç½—æ–¯æ–¹å—.html-CN3RjORT.js" as="script"><link rel="prefetch" href="/assets/è´ªåƒè›‡.html-BBxh_vCU.js" as="script"><link rel="prefetch" href="/assets/index.html-BR3wPTkd.js" as="script"><link rel="prefetch" href="/assets/äº‘è¾¹æœ‰ä¸ªå°å–é“º.html-DnDyedk7.js" as="script"><link rel="prefetch" href="/assets/å†™ç»™é’å¹´çš„åäºŒå°ä¿¡.html-D3HKPAyF.js" as="script"><link rel="prefetch" href="/assets/å¯Œå…°å…‹æ—è‡ªä¼ .html-L4mpeQFq.js" as="script"><link rel="prefetch" href="/assets/è¿½é£ç­çš„äºº.html-BtAv1Z2N.js" as="script"><link rel="prefetch" href="/assets/index.html-CcZgaNqE.js" as="script"><link rel="prefetch" href="/assets/è¿è¥.html-C_GlbJiC.js" as="script"><link rel="prefetch" href="/assets/index.html-BEZGKWip.js" as="script"><link rel="prefetch" href="/assets/ç»æµå­¦åŸç†.html-5kfWIJmP.js" as="script"><link rel="prefetch" href="/assets/è´¢åŠ¡çŸ¥è¯†.html-9Yq-W0vl.js" as="script"><link rel="prefetch" href="/assets/index.html-DezlD7sc.js" as="script"><link rel="prefetch" href="/assets/å­¦ä¹ åŠ›-æˆ‘çš„ç†è´¢çŸ¥è¯†å˜ç°ä¹‹è·¯.html-DDn4CiC_.js" as="script"><link rel="prefetch" href="/assets/å°ç‹—é’±é’±.html-OhlZHFXX.js" as="script"><link rel="prefetch" href="/assets/èœé¸Ÿå­¦ç†è´¢.html-CP4AESYw.js" as="script"><link rel="prefetch" href="/assets/è´¢å¯Œè‡ªç”±ä¹‹è·¯.html-X1lVwZsR.js" as="script"><link rel="prefetch" href="/assets/index.html-BwxxRVhG.js" as="script"><link rel="prefetch" href="/assets/äººç±»ç®€å².html-CUVYeyvr.js" as="script"><link rel="prefetch" href="/assets/index.html-QtfORciw.js" as="script"><link rel="prefetch" href="/assets/UIè®¾è®¡è§„èŒƒ.html-D1uukCm-.js" as="script"><link rel="prefetch" href="/assets/å…³é”®è¯.html-DOJ9CvR1.js" as="script"><link rel="prefetch" href="/assets/å›¾ç‰‡çš„ä½¿ç”¨.html-CPtNUdRp.js" as="script"><link rel="prefetch" href="/assets/å­—ä½“.html-Cib7icO0.js" as="script"><link rel="prefetch" href="/assets/æ’ç‰ˆæµç¨‹.html-OvFyrQ4I.js" as="script"><link rel="prefetch" href="/assets/æ„å›¾.html-CxckL9l7.js" as="script"><link rel="prefetch" href="/assets/è‰²å½©.html-Dt2Gih1B.js" as="script"><link rel="prefetch" href="/assets/è®¾è®¡é£æ ¼.html-CMJ5GL39.js" as="script"><link rel="prefetch" href="/assets/aiç¬”è®°.html-D2Z0jbC4.js" as="script"><link rel="prefetch" href="/assets/blenderç¬”è®°.html-BPCK_OI2.js" as="script"><link rel="prefetch" href="/assets/psç¬”è®°.html-CBeujR4p.js" as="script"><link rel="prefetch" href="/assets/index.html-DHCSLHJN.js" as="script"><link rel="prefetch" href="/assets/ä¸‹è½½èµ„æº.html-D9wuPEhX.js" as="script"><link rel="prefetch" href="/assets/index.html-DOqjDtKK.js" as="script"><link rel="prefetch" href="/assets/å¸¸ç”¨ç½‘ç»œçŸ¥è¯†.html-GND_fe4x.js" as="script"><link rel="prefetch" href="/assets/æ¦‚è¿°.html-B8df6pv8.js" as="script"><link rel="prefetch" href="/assets/ç¼–ç å’ŒåŠ å¯†è§£å¯†.html-CYKs4ukB.js" as="script"><link rel="prefetch" href="/assets/index.html-BOe3GhpK.js" as="script"><link rel="prefetch" href="/assets/äººæ€§çš„å¼±ç‚¹.html-BAhZeQdj.js" as="script"><link rel="prefetch" href="/assets/äººæƒ…ä¸–æ•….html-hzmBTCk5.js" as="script"><link rel="prefetch" href="/assets/å¥½å¥½å­¦ä¹ -ä¸ªäººçŸ¥è¯†ç®¡ç†.html-DTgozdKE.js" as="script"><link rel="prefetch" href="/assets/æŒæ§ä¹ æƒ¯.html-B6FAeDKZ.js" as="script"><link rel="prefetch" href="/assets/index.html-kkMT95i1.js" as="script"><link rel="prefetch" href="/assets/å¤æ‚åº¦åˆ†æ.html-Dl7p3AGR.js" as="script"><link rel="prefetch" href="/assets/æ’åº.html-BdfJEv-B.js" as="script"><link rel="prefetch" href="/assets/æœç´¢.html-C3HANddg.js" as="script"><link rel="prefetch" href="/assets/æ•°æ®ç»“æ„åˆ·é¢˜æ€»ç»“.html-BKzkDwvS.js" as="script"><link rel="prefetch" href="/assets/æ ˆ.html-DVfyoN6Q.js" as="script"><link rel="prefetch" href="/assets/æ ‘.html-BGVDU0eo.js" as="script"><link rel="prefetch" href="/assets/é“¾è¡¨.html-CYazydgI.js" as="script"><link rel="prefetch" href="/assets/é˜Ÿåˆ—.html-fjrpmhf0.js" as="script"><link rel="prefetch" href="/assets/index.html-BB2v42VD.js" as="script"><link rel="prefetch" href="/assets/çº¿æ€§ä»£æ•°.html-CPbxgI3e.js" as="script"><link rel="prefetch" href="/assets/ç¨€ç¼º.html-B8bpjk3L.js" as="script"><link rel="prefetch" href="/assets/index.html-DLS7uB8i.js" as="script"><link rel="prefetch" href="/assets/åå†…è€—.html-Vg4nh0T_.js" as="script"><link rel="prefetch" href="/assets/ç¤¾ä¼šå¿ƒç†å­¦.html-DtkO6amV.js" as="script"><link rel="prefetch" href="/assets/è‡ªå‘ä¸è¶…è¶Š.html-T8lIHbEL.js" as="script"><link rel="prefetch" href="/assets/index.html-Dp6eiVuK.js" as="script"><link rel="prefetch" href="/assets/å‰ç«¯å¸¸ç”¨è®¾è®¡æ¨¡å¼.html-76PTjOHU.js" as="script"><link rel="prefetch" href="/assets/canvasç¬”è®°.html-BI-HC6Hh.js" as="script"><link rel="prefetch" href="/assets/cssç¬”è®°.html-NKhi_KKR.js" as="script"><link rel="prefetch" href="/assets/gitç¬”è®°.html-BRuyOreA.js" as="script"><link rel="prefetch" href="/assets/htmlç¬”è®°.html-BNFgvB7T.js" as="script"><link rel="prefetch" href="/assets/JSDocæ³¨é‡Š.html-6GqBvOWf.js" as="script"><link rel="prefetch" href="/assets/jsç¬”è®°.html-D3gPa2tf.js" as="script"><link rel="prefetch" href="/assets/jsï¼šå…³äºnvmå’Œnodeçš„ç¯å¢ƒæ­å»º.html-BUZ9hDVS.js" as="script"><link rel="prefetch" href="/assets/SSHç¬”è®°.html-lkdCcZUv.js" as="script"><link rel="prefetch" href="/assets/index.html-CTqmQmrM.js" as="script"><link rel="prefetch" href="/assets/ç¬¬ä¸€èŠ‚.html-DRVMrWKn.js" as="script"><link rel="prefetch" href="/assets/åŠ›å­¦.html-B9rxpT5X.js" as="script"><link rel="prefetch" href="/assets/index.html-CRBzceG3.js" as="script"><link rel="prefetch" href="/assets/æ“ä½œç³»ç»Ÿ.html-C4bRMqPh.js" as="script"><link rel="prefetch" href="/assets/reactç¬”è®°.html-6EWMYX1Y.js" as="script"><link rel="prefetch" href="/assets/rnç¬”è®°.html-D4vP06D7.js" as="script"><link rel="prefetch" href="/assets/Taroç¬”è®°.html-BNb3qIvQ.js" as="script"><link rel="prefetch" href="/assets/three.jsç¬”è®°.html-DYaOOlDA.js" as="script"><link rel="prefetch" href="/assets/tsç¬”è®°.html-CmsG_DhR.js" as="script"><link rel="prefetch" href="/assets/uiäº¤äº’æ”¶è—.html-EG-E5ewM.js" as="script"><link rel="prefetch" href="/assets/vue3ç¬”è®°.html-BEJh4MaI.js" as="script"><link rel="prefetch" href="/assets/å‰ç«¯å·¥ç¨‹åŒ–æ¢³ç†.html-B2tNVXXm.js" as="script"><link rel="prefetch" href="/assets/å¾®ä¿¡å°ç¨‹åºç¬”è®°.html-TiHPNMw_.js" as="script"><link rel="prefetch" href="/assets/æ•°æ®å¯è§†åŒ–.html-BnhrDU2D.js" as="script"><link rel="prefetch" href="/assets/æ•°æ®æ¨¡æ‹Ÿæµ‹è¯•.html-Bd1OcG-r.js" as="script"><link rel="prefetch" href="/assets/æµè§ˆå™¨æœºåˆ¶ç¬”è®°.html-Bdo1XQql.js" as="script"><link rel="prefetch" href="/assets/çˆ¬è™«.html-Bzt1Iac6.js" as="script"><link rel="prefetch" href="/assets/webgisæŠ€æœ¯.html-DvpWfhGn.js" as="script"><link rel="prefetch" href="/assets/åœ°ç†ä¿¡æ¯ç³»ç»ŸåŸºç¡€.html-BfLFpiHy.js" as="script"><link rel="prefetch" href="/assets/index.html-BwBVc5z8.js" as="script"><link rel="prefetch" href="/assets/éŸ³è§†é¢‘åŠå›¾åƒå¤„ç†.html-BG4cvqgY.js" as="script"><link rel="prefetch" href="/assets/index.html-w7VUk8rw.js" as="script"><link rel="prefetch" href="/assets/å®£å·è°¢æœ“æ¥¼é¥¯åˆ«æ ¡ä¹¦å”äº‘.html-DcERVLVl.js" as="script"><link rel="prefetch" href="/assets/å°†è¿›é…’.html-BtOikQz1.js" as="script"><link rel="prefetch" href="/assets/index.html-Ts0C6Sgi.js" as="script"><link rel="prefetch" href="/assets/å®šé£æ³¢-è«å¬ç©¿æ—æ‰“å¶å£°.html-DX7CFpJl.js" as="script"><link rel="prefetch" href="/assets/å¿µå¥´å¨‡-èµ¤å£æ€€å¤.html-C43XifRd.js" as="script"><link rel="prefetch" href="/assets/æœ›æ±Ÿå—-æ˜¥æœªè€.html-C005PQyQ.js" as="script"><link rel="prefetch" href="/assets/æ°´è°ƒæ­Œå¤´.html-BGGmH7UR.js" as="script"><link rel="prefetch" href="/assets/index.html-Blc6aZgc.js" as="script"><link rel="prefetch" href="/assets/ä»£ç­”é—ºæ¢¦è¿˜.html-BTSPApVB.js" as="script"><link rel="prefetch" href="/assets/æ˜¥æ±ŸèŠ±æœˆå¤œ.html-CEh1HrXO.js" as="script"><link rel="prefetch" href="/assets/MongoDB.html-CcC2Ubg3.js" as="script"><link rel="prefetch" href="/assets/postgresql.html-D38t3LXu.js" as="script"><link rel="prefetch" href="/assets/index.html-DDelTmci.js" as="script"><link rel="prefetch" href="/assets/Redisç¬”è®°.html-BNpz3P93.js" as="script"><link rel="prefetch" href="/assets/æ•°æ®åº“åŸç†.html-Cv-vRDuo.js" as="script"><link rel="prefetch" href="/assets/dockerç¬”è®°.html-A-7etHNG.js" as="script"><link rel="prefetch" href="/assets/CAè¯ä¹¦ä½“ç³».html-CQ1BPX5z.js" as="script"><link rel="prefetch" href="/assets/Linuxç¬”è®°.html-l0D5n3_w.js" as="script"><link rel="prefetch" href="/assets/Shellè„šæœ¬.html-ZX0i-2eG.js" as="script"><link rel="prefetch" href="/assets/æœåŠ¡å™¨åŸŸåç¬”è®°.html-EzPrXCwD.js" as="script"><link rel="prefetch" href="/assets/ç¡¬ä»¶åŸºç¡€.html-BW7g1BNr.js" as="script"><link rel="prefetch" href="/assets/é—®é¢˜è®°å½•SSLï¼šSSL handshake failed.html-BTjjBlmM.js" as="script"><link rel="prefetch" href="/assets/é¡¹ç›®éƒ¨ç½²æµç¨‹.html-B7_GJe4B.js" as="script"><link rel="prefetch" href="/assets/mqttç¬”è®°.html-BgRhG47f.js" as="script"><link rel="prefetch" href="/assets/node.jsåŸºç¡€ç¬”è®°.html-DfGw8uv2.js" as="script"><link rel="prefetch" href="/assets/index.html--L02RHGg.js" as="script"><link rel="prefetch" href="/assets/Rustç¬”è®°.html-DQi3iGvi.js" as="script"><link rel="prefetch" href="/assets/index.html-gQC3xhyn.js" as="script"><link rel="prefetch" href="/assets/å¼€å‘é¡¹ç›®ä¸»è¦ç¬”è®°.html-BsCELqUX.js" as="script"><link rel="prefetch" href="/assets/æµç¨‹å›¾ç»˜åˆ¶.html-gopXKQ3L.js" as="script"><link rel="prefetch" href="/assets/404.html-pbnURlzU.js" as="script"><link rel="prefetch" href="/assets/index.html-Dj4_n9Uk.js" as="script"><link rel="prefetch" href="/assets/index.html-yOoZW-1Z.js" as="script"><link rel="prefetch" href="/assets/index.html-DtLMEW8x.js" as="script"><link rel="prefetch" href="/assets/index.html-CnGQf8HO.js" as="script"><link rel="prefetch" href="/assets/index.html-Bv0vWr2k.js" as="script"><link rel="prefetch" href="/assets/index.html-C_5MxUeK.js" as="script"><link rel="prefetch" href="/assets/index.html-CkYwcrBY.js" as="script"><link rel="prefetch" href="/assets/index.html-Bc6u_Jvi.js" as="script"><link rel="prefetch" href="/assets/index.html-oW-xPATP.js" as="script"><link rel="prefetch" href="/assets/index.html-YuiNRmjk.js" as="script"><link rel="prefetch" href="/assets/index.html-DvSMSlEo.js" as="script"><link rel="prefetch" href="/assets/index.html-Dxz_idAs.js" as="script"><link rel="prefetch" href="/assets/index.html-bgunJJQE.js" as="script"><link rel="prefetch" href="/assets/index.html-BFWhzrsr.js" as="script"><link rel="prefetch" href="/assets/index.html-c1phiaUD.js" as="script"><link rel="prefetch" href="/assets/index.html-Dn2isIdj.js" as="script"><link rel="prefetch" href="/assets/index.html-ox4_jUpt.js" as="script"><link rel="prefetch" href="/assets/index.html-JhMR9UAb.js" as="script"><link rel="prefetch" href="/assets/index.html-Dw9LqSkI.js" as="script"><link rel="prefetch" href="/assets/index.html-Vpv82cMl.js" as="script"><link rel="prefetch" href="/assets/index.html-CO2OGdoA.js" as="script"><link rel="prefetch" href="/assets/index.html-BRVGq33F.js" as="script"><link rel="prefetch" href="/assets/index.html-_ksk2bVK.js" as="script"><link rel="prefetch" href="/assets/index.html-6_LXyvTQ.js" as="script"><link rel="prefetch" href="/assets/index.html-DQEV7Ict.js" as="script"><link rel="prefetch" href="/assets/index.html-BdLuuhF1.js" as="script"><link rel="prefetch" href="/assets/index.html-VrvwInV0.js" as="script"><link rel="prefetch" href="/assets/index.html-DJ93MrpX.js" as="script"><link rel="prefetch" href="/assets/index.html-B2fuC85S.js" as="script"><link rel="prefetch" href="/assets/index.html-B-hNlY9p.js" as="script"><link rel="prefetch" href="/assets/index.html-CSpOW-gv.js" as="script"><link rel="prefetch" href="/assets/index.html-DpMlprqd.js" as="script"><link rel="prefetch" href="/assets/index.html-RF7RUi5A.js" as="script"><link rel="prefetch" href="/assets/index-DXW7qb_O.js" as="script"><link rel="prefetch" href="/assets/mermaid.esm.min-CizV--jk.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-CKV1Bsxh.js" as="script"><link rel="prefetch" href="/assets/browser-BjcGmAWY.js" as="script"><link rel="prefetch" href="/assets/waline-meta-l0sNRNKZ.js" as="script"><link rel="prefetch" href="/assets/component-BwBA_M4q.js" as="script"><link rel="prefetch" href="/assets/SearchResult-BZmkZCq1.js" as="script"><link rel="prefetch" href="/assets/APlayer.min-CBxHbpzA.js" as="script"><link rel="prefetch" href="/assets/APlayer.min-l0sNRNKZ.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/" aria-label="å¸¦æˆ‘å›å®¶"><img class="vp-nav-logo" src="/.vuepress/public/logo2.svg" alt><!----><span class="vp-site-name hide-in-pad">ç¦¹ç©†ç©†</span></a><!--]--></div><div class="vp-navbar-center"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/" aria-label="ä¸»é¡µ"><!--[--><i class="vp-icon fas fa-home" sizing="height"></i><!--]-->ä¸»é¡µ<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="å¼€å‘åˆ†äº«"><!--[--><i class="vp-icon fas fa-paper-plane" sizing="height"></i>å¼€å‘åˆ†äº«<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/codeshare/caseshare/" aria-label="åˆ†ç±»åˆ†äº«"><!---->åˆ†ç±»åˆ†äº«<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/codeshare/othershare/" aria-label="é›¶ç¢åˆ†äº«"><!---->é›¶ç¢åˆ†äº«<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="ç”Ÿæ´»"><!--[--><i class="vp-icon fas fa-palette" sizing="height"></i>ç”Ÿæ´»<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/livelog/poetry/" aria-label="è¯—æ­Œ"><!---->è¯—æ­Œ<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/livelog/philosophy/" aria-label="å“²å­¦"><!---->å“²å­¦<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/livelog/daily/" aria-label="æ—¥å¸¸"><!---->æ—¥å¸¸<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><a class="route-link route-link-active auto-link" href="/notes/" aria-label="ç¬”è®°åº“"><!--[--><i class="vp-icon fas fa-pen-to-square" sizing="height"></i><!--]-->ç¬”è®°åº“<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/plan/" aria-label="é­”ç›’"><!--[--><i class="vp-icon fas fa-lock" sizing="height"></i><!--]-->é­”ç›’<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/somelink/" aria-label="é“¾æ¥"><!--[--><i class="vp-icon fas fa-link" sizing="height"></i><!--]-->é“¾æ¥<!----></a></div></nav><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!----><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-color-mode-switch" id="color-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" name="auto" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" name="dark" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" name="light" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--[--><button type="button" class="slimsearch-button" aria-label="æœç´¢"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="slimsearch-placeholder">æœç´¢</div><div class="slimsearch-key-hints"><kbd class="slimsearch-key">Ctrl</kbd><kbd class="slimsearch-key">K</kbd></div></button><!--]--><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">å‰ç«¯ç¬”è®°</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">åç«¯ç¬”è®°</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">æ•°æ®åº“ç¬”è®°</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">åç«¯æ¡†æ¶ç¬”è®°</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/notes/endnotes/endframe/" aria-label="åç«¯æ¡†æ¶"><!---->åç«¯æ¡†æ¶<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/notes/endnotes/endframe/mqtt%E7%AC%94%E8%AE%B0.html" aria-label="mqttç¬”è®°"><!--[--><i class="vp-icon fas fa-file fa-fw" sizing="both"></i><!--]-->mqttç¬”è®°<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/notes/endnotes/endframe/node.js%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.html" aria-label="Node.jsç¬”è®°"><!--[--><i class="vp-icon fas fa-file fa-fw" sizing="both"></i><!--]-->Node.jsç¬”è®°<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/notes/endnotes/endframe/node.js%E6%A1%86%E6%9E%B6.html" aria-label="Node.jsæ¡†æ¶"><!--[--><i class="vp-icon fas fa-file fa-fw" sizing="both"></i><!--]-->Node.jsæ¡†æ¶<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/notes/endnotes/endframe/Rust%E7%AC%94%E8%AE%B0.html" aria-label="rustç¬”è®°"><!--[--><i class="vp-icon fas fa-file fa-fw" sizing="both"></i><!--]-->rustç¬”è®°<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">docker</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">æœåŠ¡å™¨åŸŸåç›¸å…³</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">é¡¹ç›®åŠè½¯ä»¶è®¾è®¡</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">ç¼–ç¨‹å†…åŠŸ</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">è®¾è®¡ç¬”è®°</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">é˜…è¯»ä¸è¯¾ç¨‹</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><i class="vp-icon fas fa-file" sizing="height"></i>Node.jsæ¡†æ¶</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">ç¦¹ç©†ç©†</span></span><span property="author" content="ç¦¹ç©†ç©†"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2025/2/17</span><meta property="datePublished" content="2025-02-17T00:00:00.000Z"></span><span class="page-pageview-info" aria-label="è®¿é—®é‡ğŸ”¢" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon eye-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="eye icon" name="eye"><path d="M992 512.096c0-5.76-.992-10.592-1.28-11.136-.192-2.88-1.152-8.064-2.08-10.816-.256-.672-.544-1.376-.832-2.08-.48-1.568-1.024-3.104-1.6-4.32C897.664 290.112 707.104 160 512 160c-195.072 0-385.632 130.016-473.76 322.592-1.056 2.112-1.792 4.096-2.272 5.856a55.512 55.512 0 00-.64 1.6c-1.76 5.088-1.792 8.64-1.632 7.744-.832 3.744-1.568 11.168-1.568 11.168-.224 2.272-.224 4.032.032 6.304 0 0 .736 6.464 1.088 7.808.128 1.824.576 4.512 1.12 6.976h-.032c.448 2.08 1.12 4.096 1.984 6.08.48 1.536.992 2.976 1.472 4.032C126.432 733.856 316.992 864 512 864c195.136 0 385.696-130.048 473.216-321.696 1.376-2.496 2.24-4.832 2.848-6.912.256-.608.48-1.184.672-1.728 1.536-4.48 1.856-8.32 1.728-8.32l-.032.032c.608-3.104 1.568-7.744 1.568-13.28zM512 672c-88.224 0-160-71.776-160-160s71.776-160 160-160 160 71.776 160 160-71.776 160-160 160z"></path></svg><span id="ArtalkPV" class="vp-pageview waline-pageview-count" data-path="/notes/endnotes/endframe/node.js%E6%A1%86%E6%9E%B6.html" data-page-key="/notes/endnotes/endframe/node.js%E6%A1%86%E6%9E%B6.html">...</span></span><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 12 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT12M"></span><!----><!----></div><hr></div><!----><div class="" vp-content><!----><div id="markdown-content"><h2 id="express-js" tabindex="-1"><a class="header-anchor" href="#express-js"><span>Express.js</span></a></h2><h3 id="é¡¹ç›®åˆ›å»º" tabindex="-1"><a class="header-anchor" href="#é¡¹ç›®åˆ›å»º"><span>é¡¹ç›®åˆ›å»º</span></a></h3><ul><li>å…¨å±€å®‰è£…express-generatorï¼š<code>pnpm i express-generator -g</code><ul><li><code>express-generator</code>æ˜¯ä¸€ä¸ªåˆ›å»º<code>express</code>é¡¹ç›®çš„è„šæ‰‹æ¶å·¥å…·ï¼Œä¸ç”¨ä¸€ä¸ªä¸€ä¸ªåˆ›å»ºé¡¹ç›®æ–‡ä»¶ï¼Œé€‚åˆéœ€è¦é«˜åº¦å®šåˆ¶åŒ–çš„åœºæ™¯ <ul><li>æ³¨ï¼š<code>ts</code>ç‰ˆæœ¬çš„ï¼Œç›´æ¥ä¸‹è½½<code>express + ts</code>åº“åŠå…¶ä»–åº“ï¼Œç›®å‰<code>cli</code>å·¥å…·éƒ½ä¸å¥½ç”¨</li></ul></li></ul></li><li>åˆ›å»ºé¡¹ç›®ï¼š<code>express é¡¹ç›®å</code>ï¼Œå¦‚æœä¸éœ€è¦è§†å›¾<code>express --no-view é¡¹ç›®å</code></li><li>å®‰è£…ä¾èµ–ï¼š<code>pnpm i</code></li><li>å¯åŠ¨é¡¹ç›®ï¼š<code>pnpm start</code>ï¼Œåœ¨æµè§ˆå™¨æ‰“å¼€<code>localhost:3000</code></li><li>é¡¹ç›®ç»“æ„ï¼š <ul><li>binï¼šå­˜æ”¾å¯æ‰§è¡Œæ–‡ä»¶</li><li>publicï¼šå­˜æ”¾é™æ€æ–‡ä»¶</li><li>routesï¼šå­˜æ”¾è·¯ç”±æ–‡ä»¶</li></ul></li></ul><h3 id="å¯åŠ¨é¡¹ç›®-ç¬¬ä¸€ä¸ªæ¥å£" tabindex="-1"><a class="header-anchor" href="#å¯åŠ¨é¡¹ç›®-ç¬¬ä¸€ä¸ªæ¥å£"><span>å¯åŠ¨é¡¹ç›®-ç¬¬ä¸€ä¸ªæ¥å£</span></a></h3><ul><li>åˆ é™¤publicæ–‡ä»¶å¤¹ä¸‹é¢çš„index.htmlæ–‡ä»¶</li><li>åœ¨routesæ–‡ä»¶å¤¹ä¸‹çš„index.jsæ–‡ä»¶ä¸­ï¼Œå°†<code>res.render(&#39;index&#39;, { title: &#39;Express&#39; });</code>æ”¹ä¸º<code>res.json({ &quot;message&quot;: &#39;hellExpress&#39; });</code></li><li>é‡å¯æœåŠ¡ï¼Œåˆ·æ–°æµè§ˆå™¨ï¼Œå¦‚æœçœ‹åˆ°<code>{&quot;message&quot;:&quot;hellExpress&quot;}</code>ï¼Œåˆ™è¯´æ˜æ¥å£åˆ›å»ºæˆåŠŸ</li><li>é—®é¢˜ï¼šæ¯æ¬¡ä¿®æ”¹ä»£ç éƒ½éœ€è¦é‡å¯æœåŠ¡ï¼Œæ€ä¹ˆè‡ªåŠ¨é‡å¯æœåŠ¡ï¼Ÿ <ul><li>å®‰è£…nodemonï¼š<code>pnpm i nodemon -D</code></li><li>åœ¨package.jsonæ–‡ä»¶ä¸­ï¼Œå°†<code>&quot;start&quot;: &quot;node ./bin/www&quot;</code>æ”¹ä¸º<code>&quot;start&quot;: &quot;nodemon ./bin/www&quot;</code></li><li>é‡å¯æœåŠ¡ï¼Œä¿®æ”¹ä»£ç åï¼Œnodemonä¼šç›‘å¬åˆ°ä¿®æ”¹ï¼Œè‡ªåŠ¨é‡å¯æœåŠ¡</li></ul></li></ul><h3 id="restfull-apiè§„èŒƒ" tabindex="-1"><a class="header-anchor" href="#restfull-apiè§„èŒƒ"><span>RESTfull APIè§„èŒƒ</span></a></h3><h4 id="æ ¸å¿ƒåŸåˆ™" tabindex="-1"><a class="header-anchor" href="#æ ¸å¿ƒåŸåˆ™"><span><strong>æ ¸å¿ƒåŸåˆ™</strong></span></a></h4><ol><li><strong>èµ„æºå¯¼å‘</strong><ul><li>URI è¡¨ç¤ºèµ„æºï¼ˆåè¯ï¼ŒéåŠ¨è¯ï¼‰ï¼Œå¦‚ <code>/users</code>ã€<code>/articles/{id}/comments</code></li><li>ä½¿ç”¨å¤æ•°å½¢å¼ï¼ˆå¦‚ <code>/users</code> è€Œé <code>/user</code>ï¼‰</li></ul></li><li><strong>HTTP æ–¹æ³•è¯­ä¹‰åŒ–</strong><ul><li><code>GET</code>ï¼šè·å–èµ„æº</li><li><code>POST</code>ï¼šåˆ›å»ºèµ„æº</li><li><code>PUT</code>ï¼šå…¨é‡æ›´æ–°èµ„æº</li><li><code>PATCH</code>ï¼šéƒ¨åˆ†æ›´æ–°èµ„æº</li><li><code>DELETE</code>ï¼šåˆ é™¤èµ„æº</li></ul></li><li><strong>æ— çŠ¶æ€æ€§</strong><ul><li>æ¯ä¸ªè¯·æ±‚éœ€åŒ…å«å®Œæ•´ä¸Šä¸‹æ–‡ï¼ŒæœåŠ¡ç«¯ä¸ä¿å­˜å®¢æˆ·ç«¯ä¼šè¯çŠ¶æ€ã€‚</li></ul></li></ol><h4 id="urlè®¾è®¡è§„èŒƒ" tabindex="-1"><a class="header-anchor" href="#urlè®¾è®¡è§„èŒƒ"><span><strong>urlè®¾è®¡è§„èŒƒ</strong></span></a></h4><ol><li><strong>å±‚çº§æ¸…æ™°</strong><ul><li>å¤šå±‚çº§èµ„æºç”¨ <code>/</code> åˆ†éš”ï¼Œå¦‚ <code>/users/{userId}/orders</code></li></ul></li><li><strong>è¿‡æ»¤ã€åˆ†é¡µã€æ’åº</strong><ul><li>ä½¿ç”¨æŸ¥è¯¢å‚æ•°ï¼š<code>?status=active&amp;page=2&amp;limit=10&amp;sort=-createdAt</code></li></ul></li><li><strong>ç‰ˆæœ¬æ§åˆ¶</strong><ul><li>URI è·¯å¾„ï¼š<code>/api/v1/users</code></li><li>è¯·æ±‚å¤´ï¼š<code>Accept: application/vnd.myapi.v1+json</code></li></ul></li></ol><h4 id="http-çŠ¶æ€ç " tabindex="-1"><a class="header-anchor" href="#http-çŠ¶æ€ç "><span><strong>HTTP çŠ¶æ€ç </strong></span></a></h4><table><thead><tr><th>çŠ¶æ€ç </th><th>å«ä¹‰</th><th>å…¸å‹åœºæ™¯</th></tr></thead><tbody><tr><td>200</td><td>OK</td><td>æˆåŠŸå“åº”ï¼ˆGET/PUT/PATCHï¼‰</td></tr><tr><td>201</td><td>Created</td><td>èµ„æºåˆ›å»ºæˆåŠŸï¼ˆPOSTï¼‰</td></tr><tr><td>204</td><td>No Content</td><td>æˆåŠŸä½†æ— è¿”å›ä½“ï¼ˆDELETEï¼‰</td></tr><tr><td>400</td><td>Bad Request</td><td>è¯·æ±‚å‚æ•°é”™è¯¯</td></tr><tr><td>401</td><td>Unauthorized</td><td>æœªè®¤è¯</td></tr><tr><td>403</td><td>Forbidden</td><td>æ— æƒé™è®¿é—®</td></tr><tr><td>404</td><td>Not Found</td><td>èµ„æºä¸å­˜åœ¨</td></tr><tr><td>500</td><td>Internal Server Error</td><td>æœåŠ¡ç«¯å†…éƒ¨é”™è¯¯</td></tr></tbody></table><h4 id="è¯·æ±‚ä¸å“åº”æ ¼å¼" tabindex="-1"><a class="header-anchor" href="#è¯·æ±‚ä¸å“åº”æ ¼å¼"><span><strong>è¯·æ±‚ä¸å“åº”æ ¼å¼</strong></span></a></h4><ol><li><strong>è¯·æ±‚å¤´</strong><ul><li><code>Content-Type: application/json</code></li><li><code>Accept: application/json</code></li></ul></li><li><strong>å“åº”ä½“</strong><ul><li>ç»Ÿä¸€è¿”å› JSON æ ¼å¼ï¼ŒåŒ…å«æ˜ç¡®çš„æ•°æ®ç»“æ„ï¼š</li></ul><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	 &quot;data&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: { </span><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">...</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }, Â </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// ä¸»æ•°æ®</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	 &quot;meta&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: { Â  Â  Â  Â  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// åˆ†é¡µ/å…ƒä¿¡æ¯</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">		 &quot;page&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">		 &quot;total&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	 },</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	 &quot;error&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: { Â  Â  Â  Â </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// é”™è¯¯ä¿¡æ¯ï¼ˆå¯é€‰ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">		 &quot;code&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;INVALID_PARAM&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">		 &quot;message&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;å‚æ•°æ ¡éªŒå¤±è´¥&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	 }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h4 id="å®‰å…¨æ€§ä¸è®¤è¯" tabindex="-1"><a class="header-anchor" href="#å®‰å…¨æ€§ä¸è®¤è¯"><span><strong>å®‰å…¨æ€§ä¸è®¤è¯</strong></span></a></h4><ol><li><strong>HTTPS</strong><ul><li>å¼ºåˆ¶ä½¿ç”¨ HTTPS åŠ å¯†é€šä¿¡ã€‚</li></ul></li><li><strong>è®¤è¯æœºåˆ¶</strong> Â ã€ <ul><li><code>OAuth 2.0</code> / <code>JWT</code> ä»¤ç‰Œè®¤è¯ï¼ˆé€šè¿‡ <code>Authorization</code> å¤´ä¼ é€’ï¼‰ã€‚</li></ul></li><li><strong>æƒé™æ§åˆ¶</strong><ul><li>RBACï¼ˆåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼‰é™åˆ¶èµ„æºæ“ä½œæƒé™ã€‚</li></ul></li></ol><h4 id="é”™è¯¯å¤„ç†" tabindex="-1"><a class="header-anchor" href="#é”™è¯¯å¤„ç†"><span><strong>é”™è¯¯å¤„ç†</strong></span></a></h4><ol><li><strong>ç»Ÿä¸€é”™è¯¯æ ¼å¼</strong></li></ol><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> &quot;error&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	 &quot;message&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;ç”¨æˆ·ä¸å­˜åœ¨&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	 &quot;code&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;RESOURCE_NOT_FOUND&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	 &quot;details&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;ç”¨æˆ· ID 123 æœªæ‰¾åˆ°&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li><strong>é¿å…è¿”å›è£¸é”™è¯¯ä¿¡æ¯</strong>ï¼Œé˜²æ­¢æ³„éœ²æ•æ„Ÿæ•°æ®ã€‚</li></ol><h4 id="hateoas-è¶…åª’ä½“é©±åŠ¨" tabindex="-1"><a class="header-anchor" href="#hateoas-è¶…åª’ä½“é©±åŠ¨"><span><strong>HATEOASï¼ˆè¶…åª’ä½“é©±åŠ¨ï¼‰</strong></span></a></h4><ul><li>åœ¨å“åº”ä¸­è¿”å›èµ„æºå…³è”çš„é“¾æ¥ï¼Œå®ç° API è‡ªæè¿°æ€§ï¼š</li></ul><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	&quot;id&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">123</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	&quot;name&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Alice&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	&quot;_links&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">		&quot;self&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">&quot;href&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;/users/123&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> },</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">		&quot;orders&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">&quot;href&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;/users/123/orders&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="è®¾è®¡å»ºè®®" tabindex="-1"><a class="header-anchor" href="#è®¾è®¡å»ºè®®"><span><strong>è®¾è®¡å»ºè®®</strong></span></a></h4><ol><li><strong>æ–‡æ¡£åŒ–</strong><ul><li>ä½¿ç”¨ OpenAPI (Swagger) ç”Ÿæˆäº¤äº’å¼æ–‡æ¡£ã€‚</li></ul></li><li><strong>å…¼å®¹æ€§</strong><ul><li>é€šè¿‡ç‰ˆæœ¬å·ç®¡ç†ä¸å…¼å®¹çš„å˜æ›´ï¼Œé¿å…ç ´åå®¢æˆ·ç«¯ã€‚</li></ul></li><li><strong>æ€§èƒ½ä¼˜åŒ–</strong><ul><li>æ”¯æŒ <code>ETag</code> ç¼“å­˜ã€<code>gzip</code> å‹ç¼©ã€<code>CORS</code> è·¨åŸŸé…ç½®ã€‚</li></ul></li></ol><p>âœ… <strong>ç¤ºä¾‹è¯·æ±‚</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># è·å–ç”¨æˆ·åˆ—è¡¨ï¼ˆåˆ†é¡µï¼‰</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">GET</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /api/v1/users?page=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">limit</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">10</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Authorization:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Bearer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">toke</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">n&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># åˆ›å»ºç”¨æˆ·</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">POST</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /api/v1/users</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Content-Type:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> application/json</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Â  &quot;name&quot;:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;John&quot;,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Â  &quot;email&quot;:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;john@example.com&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç»“åˆormå·¥å…·æ“ä½œæ•°æ®åº“" tabindex="-1"><a class="header-anchor" href="#ç»“åˆormå·¥å…·æ“ä½œæ•°æ®åº“"><span>ç»“åˆORMå·¥å…·æ“ä½œæ•°æ®åº“</span></a></h3><ul><li>é¢„å¤‡ï¼š <ul><li>æ•°æ®åº“ä½¿ç”¨mysql</li><li>ä½¿ç”¨Prismaæ“ä½œæ•°æ®åº“(å®˜ç½‘ï¼šhttps://prisma.org.cn/docs/orm/overview/introduction)</li></ul></li><li>å®‰è£…prismaï¼š<code>pnpm install prisma --save-dev</code> ï¼Œ<code>pnpm install @prisma/client</code></li><li>åˆå§‹åŒ–prismaï¼š<code>pnpm prisma init --output &#39;../generated/prisma&#39;</code></li><li>è¿æ¥æ•°æ®åº“ï¼š <ul><li>æ›´æ–°.envæ–‡ä»¶çš„åœ°å€ï¼š<code>DATABASE_URL=&quot;mysql://username:password@localhost:3306/your_database_name&quot;</code></li><li>schema.prismaæ–‡ä»¶ä¸­ï¼Œæ•°æ®æºdb çš„providerèµ‹å€¼ä¸º<code>mysql</code></li></ul></li><li>å®šä¹‰æ¨¡å‹ <ul><li>å¦‚æœæ•°æ®åº“ä¸­æ²¡æœ‰è¡¨ï¼Œåœ¨schema.prismaæ–‡ä»¶ä¸­é€šè¿‡æ¨¡å‹å®šä¹‰ï¼Œä¹‹åè¿ç§»<code>prisma migrate dev --name init</code>æˆ–<code>pnpm prisma migrate dev --name add_new_models</code>ï¼Œæ³¨æ„è¯¥å‘½ä»¤ä¼šè‡ªåŠ¨<code>pnpm prisma generate</code>æ›´æ–°å®¢æˆ·ç«¯</li><li>å¦‚æœæ•°æ®åº“ä¸­æœ‰æ•°æ®ï¼Œæ‰§è¡Œå†…çœ<code>pnpm prisma db pull</code>è¯­å¥ï¼Œæ³¨æ„å†…çœåéœ€è¦<code>pnpm prisma generate</code>æ›´æ–°å®¢æˆ·ç«¯</li><li>å¦‚æœæ‰‹åŠ¨ä¿®æ”¹æ•°æ®åº“å­—æ®µï¼Œåœ¨å®è·µä¸­ä¸æ¨èï¼Œä¼šå¯¼è‡´æ¶æ„æ¼‚ç§»ï¼Œå¦‚æœéœ€è¦å¤„ç†è¿™æ ·çš„æƒ…å†µï¼Œä¼˜å…ˆä½¿ç”¨<code>db pull</code>æ›´æ–°<code>schema.prisma</code>æ–‡ä»¶ï¼Œä¹‹ååŠ¡å¿…<code>npx prisma migrate dev --name manual_changes</code>åˆ›å»ºä¸€ä¸ªæ–°çš„è¿ç§»è¿½è®¤è¯¥å˜æ›´ï¼›æ¬¡é€‰æ–¹æ¡ˆæ˜¯æ ‡è®°ä¸ºå·²è§£å†³ï¼Œä½¿ç”¨<code>npx prisma migrate resolve --applied &quot;20230901082301_init&quot;</code></li><li>æ‰‹åŠ¨ä¿®æ”¹schemaæ¨¡å‹ï¼Œè¿™æ˜¯å®˜æ–¹æ¨èçš„æ–¹å¼ï¼Œè¿è¡Œ<code>npx prisma migrate dev --name add_new_field</code>ï¼Œä½†éœ€è¦æ³¨æ„çš„æ˜¯å­—æ®µä¿®æ”¹æˆ–è€…åˆ é™¤åˆ™æ•°æ®åº“ä¸­è¯¥å­—æ®µæ•°æ®ä¹Ÿä¼šæ²¡æœ‰ <ul><li>ç”Ÿäº§ç¯å¢ƒä¸­ï¼šä½¿ç”¨<code>--create-only</code>æ ‡å¿—å…ˆç”Ÿæˆè¿ç§»æ–‡ä»¶è€Œä¸æ‰§è¡Œï¼Œç„¶åæ‰‹åŠ¨ç¼–è¾‘ç”Ÿæˆçš„ <code>SQL</code>ï¼Œå°†å…¶æ”¹ä¸ºæ•°æ®å®‰å…¨çš„æ“ä½œï¼ˆä¾‹å¦‚å…ˆåˆ›å»ºæ–°åˆ—ã€è¿ç§»æ•°æ®ã€å†åˆ é™¤æ—§åˆ—ï¼‰ï¼Œæœ€åå†<code>npx prisma migrate dev</code>åº”ç”¨è¿ç§»ï¼›â€‹ä¸¥æ ¼ä½¿ç”¨ <code>prisma migrate deploy</code>â€‹ æ¥åº”ç”¨å·²ç”Ÿæˆçš„è¿ç§»æ–‡ä»¶ï¼Œç»ä¸ä½¿ç”¨ <code>db push</code>æˆ– <code>migrate dev</code></li><li>å¼€å‘ç¯å¢ƒä¸­ï¼šæ›´è‡ªç”±åœ°ä½¿ç”¨ <code>migrate reset</code>æ¥é‡ç½®æ•°æ®åº“</li></ul></li></ul></li></ul><table><thead><tr><th>åœºæ™¯</th><th>æ ¸å¿ƒé—®é¢˜</th><th>æ¨èæ“ä½œ</th><th>å…³é”®å‘½ä»¤</th><th>å®‰å…¨æ³¨æ„ç‚¹</th></tr></thead><tbody><tr><td>â‘ æ•°æ®åº“æ— æ•°æ®ï¼ŒSchema æœ‰æ¨¡å‹</td><td>éœ€è¦æ ¹æ®æ¨¡å‹åˆ›å»ºæ•°æ®åº“ç»“æ„</td><td>ä½¿ç”¨ migrate devåˆ›å»ºå¹¶åº”ç”¨è¿ç§»</td><td>npx prisma migrate dev --name init</td><td>å®‰å…¨</td></tr><tr><td>â‘¡ æ•°æ®åº“æœ‰æ•°æ®ï¼ŒSchema æ— æ¨¡å‹</td><td>éœ€è¦å°†ç°æœ‰æ•°æ®åº“ç»“æ„å¯¼å…¥ Prisma</td><td>ä½¿ç”¨ db pullè‡ªçœæ•°æ®åº“</td><td>npx prisma db pull</td><td>å®‰å…¨</td></tr><tr><td>â‘¢ æ‰‹åŠ¨ä¿®æ”¹æ•°æ®åº“å­—æ®µ</td><td>å‡ºç°â€œæ¶æ„æ¼‚ç§»â€ï¼Œå†å²è®°å½•ä¸å®é™…æƒ…å†µä¸ç¬¦</td><td>é¦–é€‰ï¼šé€šè¿‡ db pullåŒæ­¥å¹¶åˆ›å»ºæ–°è¿ç§»ï¼›æ¬¡é€‰ï¼šæ ‡è®°è¿ç§»çŠ¶æ€</td><td>npx prisma db pullnpx prisma migrate resolve ...</td><td>â€‹è°¨æ…æ“ä½œï¼Œé¿å…é‡ç½®å¯¼è‡´æ•°æ®ä¸¢å¤±</td></tr><tr><td>â‘£ æ‰‹åŠ¨ä¿®æ”¹ Schema æ¨¡å‹</td><td>éœ€è¦å°†æ¨¡å‹å˜æ›´åŒæ­¥åˆ°æ•°æ®åº“</td><td>ä½¿ç”¨ migrate devåˆ›å»ºå¹¶åº”ç”¨æ–°è¿ç§»</td><td>npx prisma migrate dev --name update_model</td><td>è‹¥æ¶‰åŠä¿®æ”¹/åˆ é™¤å­—æ®µï¼Œâ€‹éœ€è°¨æ…å¤„ç†ä»¥é˜²æ•°æ®ä¸¢å¤±</td></tr></tbody></table><ul><li>é€šè¿‡ç§å­æ–‡ä»¶å¡«å……æ•°æ®ï¼š <ul><li>å‚è€ƒå®˜ç½‘ï¼š<code>https://prisma.org.cn/docs/orm/prisma-migrate/workflows/seeding</code></li><li>åœ¨prismaæ–‡ä»¶å¤¹åˆ›å»ºseed.jsæ–‡ä»¶</li><li>åœ¨package.jsonæ–‡ä»¶ä¸­æ·»åŠ </li></ul></li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>  &quot;prisma&quot;: {</span></span>
<span class="line"><span>    &quot;seed&quot;: &quot;node prisma/seed.js&quot;</span></span>
<span class="line"><span>  }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å®‰è£…mock.jsï¼š<code>pnpm i mockjs</code></li><li>åœ¨seed.jsæ–‡ä»¶ä¸­æ·»åŠ å¡«å……æ•°æ®ç±»å‹</li></ul><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-js"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">PrismaClient</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;@prisma/client&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> mock</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;mockjs&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> prisma</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> PrismaClient</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> data</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> mock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  &#39;user|102&#39;</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    {</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      &#39;name&#39;</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;@cname&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      &#39;mobile&#39;</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;@string(&quot;130123456789&quot;, 11)&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  ]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">async</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(){</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> hangdleData</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  await</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> prisma</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">createMany</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    data</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> data</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">user</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  })</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">hangdleData</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">().</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">then</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">async</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> () </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  await</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> prisma</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$disconnect</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">catch</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">async</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">error</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  await</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> prisma</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$disconnect</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  process</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">exit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">})</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ‰§è¡Œ<code>pnpm prisma db seed</code></li><li>é€šè¿‡express.jså†™æ¥å£</li><li>æ¥å£ä¸­é€šè¿‡prismaå®Œæˆå¯¹æ•°æ®åº“çš„CURD <ul><li>æŸ¥è¯¢æ•°æ®ï¼š <ul><li>æŸ¥è¯¢å¤šä¸ªæ•°æ®ï¼ˆæ— ç­›é€‰æ’åºï¼‰ï¼š<code>const users = await prisma.user.findMany();</code></li><li>æŸ¥è¯¢å¤šä¸ªæ•°æ®ï¼ˆç­›é€‰æ’åºï¼‰ï¼š<code>const users = await prisma.user.findMany( { where: { age: { equals/gt/contains/endsWith/startWith:20 }, orderBy: { id: &#39;desc&#39; }} );</code></li><li>æŸ¥è¯¢å•ä¸ªæ•°æ®ï¼š<code>const user = await prisma.user.findUnique({ where: { id: 99} })</code></li><li>æ’æŸ¥æŸä¸ªå­—æ®µç”¨<code>omit</code>ï¼Œå±€éƒ¨æ–¹å¼å¦‚<code>const user = await prisma.user.findUnique({ omit:{ password: true }, where: { id: 99} })</code>ï¼Œå…¨å±€æ–¹å¼å¦‚ï¼š<code>const prisma = new PrismaClient({ omit: { user: { password: true } } })</code>ï¼Œå¦‚æœè¦ä½¿ç”¨è¢«æ’é™¤æ˜¯å­—æ®µï¼Œåœ¨<code>select</code>å±æ€§ä¸­å¼€å¯</li><li>å…³è”æŸ¥è¯¢ï¼š <ul><li>åµŒå¥—è¯»å–ï¼šä½¿ç”¨includeåŒ…å«å…³è”å­—æ®µæ•°æ®ï¼Œä½¿ç”¨selecté€‰æ‹©æ€§çš„è·å–å­—æ®µï¼Œæ³¨æ„includeå’Œselectä¸èƒ½å†åŒä¸€çº§åˆ«ï¼Œå¦‚æœå¯¹çˆ¶çº§éœ€è¦ç­›é€‰å­—æ®µï¼Œå¯ä»¥ä½¿ç”¨selectåµŒå¥—</li></ul><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-js"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> user</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> await</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> prisma</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">findFirst</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	select</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">		// This will work!  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">		email</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">		posts</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">			select</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">				title</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">			},</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">		},  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	},  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">})</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å…³ç³»åŠ è½½ç­–ç•¥ï¼š<code>join</code>å’Œ<code>query</code>ä¸¤ç§ï¼Œé»˜è®¤ä½¿ç”¨<code>join</code></li><li>å…³è”è®¡æ•°ï¼š<code>_count</code></li></ul></li></ul></li><li>åˆ›å»ºæ•°æ®ï¼š <ul><li>å•ä¸ªæ•°æ®ï¼š<code>const user = await prisma.user.create({data: yourData})</code></li><li>å¤šä¸ªæ•°æ®ï¼š<code>const user = await prisma.user. createMany()({data: []})</code></li><li>åµŒå¥—å†™å…¥ï¼š</li></ul></li><li>æ›´æ–°æ•°æ®: <ul><li>å•ä¸ªæ•°æ®ï¼š<code>const user = await prisma.user.update({where:{id:20}, data:{ role: &#39;admin&#39;})</code></li><li>å¤šä¸ªæ•°æ®ï¼š<code>const user = await prisma.user.updateMany({where:{ contains:20}, data:{ role: &#39;admin&#39;})</code></li></ul></li><li>æ›´æ–°æˆ–åˆ›å»ºè®°å½•ï¼š<code>const user = await prisma.user.upsert({where:{id:20}, update:{name: &#39;æç™½&#39;, create: {...your data}})</code></li><li>åˆ é™¤æ•°æ®ï¼š <ul><li>å•ä¸ªæ•°æ®ï¼ˆæ— å…³è”ï¼‰ï¼š<code>const user = await prisma.user.delete({where: {id: 20}})</code></li><li>å¤šä¸ªæ•°æ®ï¼ˆæ— å…³è”ï¼‰ï¼š<code>const user = await prisma.user.deleteMany({where: {contains: 20}})</code></li><li>æ‰€æœ‰æ•°æ®ï¼ˆæ— å…³è”ï¼‰ï¼š<code>const user = await prisma.user.deleteMany({})</code></li><li>çº§è”åˆ é™¤ï¼š <ul><li>æ–¹æ¡ˆä¸€ï¼šåœ¨æ¨¡å‹ä¸­ä½¿å¤–é”®å¯é€‰</li><li>æ–¹æ¡ˆäºŒï¼šåœ¨äº‹åŠ¡ä¸­ä½¿ç”¨ä¸¤ä¸ªå•ç‹¬çš„æŸ¥è¯¢åˆ é™¤ç”¨æˆ·åŠå…¶æ‰€æœ‰å…³è”æ•°æ®ï¼Œç„¶ååˆ é™¤è¯¥æ¡ç›®</li><li>æ–¹æ¡ˆä¸‰ï¼šåœ¨åˆ é™¤ç”¨æˆ·ä¹‹å‰ï¼Œå°†å…³è”æ•°æ®æ”¹ä¸ºå¦ä¸€ä¸ª</li></ul></li><li>åˆ é™¤æ‰€æœ‰è¡¨æ‰€æœ‰æ•°æ®ï¼š <ul><li>æ–¹æ¡ˆä¸€ï¼šæå‰é€šè¿‡schemaç»“æ„äº†è§£è¡¨é¡ºåºï¼Œä½¿ç”¨deleteManyå‡½æ•°åˆ é™¤</li></ul><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-js"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> deletePosts</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> prisma</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">post</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">deleteMany</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> deleteProfile</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> prisma</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">profile</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">deleteMany</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> deleteUsers</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> prisma</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">deleteMany</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// The transaction runs synchronously so deleteUsers must run last.</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">await</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> prisma</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$transaction</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">([</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">deleteProfile</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">deletePosts</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">deleteUsers</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">])</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ–¹æ¡ˆäºŒï¼šä½¿ç”¨å…ƒç´ sql / truncateåˆ é™¤æ‰€æœ‰æ•°æ®ã€‚</li><li>æ–¹æ¡ˆä¸‰ï¼šä½¿ç”¨Prisma Migrateåˆ é™¤æ‰€æœ‰è®°å½•ã€‚</li></ul></li></ul></li><li>èšåˆã€åˆ†ç»„å’Œæ±‡æ€»</li><li>äº‹åŠ¡å’Œæ‰¹é‡æŸ¥è¯¢</li></ul></li></ul><h3 id="æ•°æ®æ ¡éªŒ" tabindex="-1"><a class="header-anchor" href="#æ•°æ®æ ¡éªŒ"><span>æ•°æ®æ ¡éªŒ</span></a></h3><h4 id="é€šè¿‡express-validatorè¿›è¡Œæ•°æ®æ ¡éªŒ" tabindex="-1"><a class="header-anchor" href="#é€šè¿‡express-validatorè¿›è¡Œæ•°æ®æ ¡éªŒ"><span>é€šè¿‡express-validatorè¿›è¡Œæ•°æ®æ ¡éªŒ</span></a></h4><ul><li>å®‰è£…express-validatorï¼š<code>pnpm i express-validator</code></li><li>åœ¨è·¯ç”±ä¸­ä½¿ç”¨ï¼š</li></ul><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-js"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">check</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">validationResult</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;express-validator&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  router</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">post</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;/register&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, [</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    check</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;username&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">isLength</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({ </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">min</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }),</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    check</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;password&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">isLength</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({ </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">min</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }),</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    check</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;email&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">isEmail</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  ], (</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">req</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">res</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> errors</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> validationResult</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">req</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">!</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">errors</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">isEmpty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">      return</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> res</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">status</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">400</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">json</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({ </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">errors</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> errors</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">array</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() }); </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    //...</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç”¨æˆ·ç™»å½•æ ¡éªŒ" tabindex="-1"><a class="header-anchor" href="#ç”¨æˆ·ç™»å½•æ ¡éªŒ"><span>ç”¨æˆ·ç™»å½•æ ¡éªŒ</span></a></h3><h4 id="å¯†ç åŠ å¯†å’Œæ ¡éªŒ" tabindex="-1"><a class="header-anchor" href="#å¯†ç åŠ å¯†å’Œæ ¡éªŒ"><span>å¯†ç åŠ å¯†å’Œæ ¡éªŒ</span></a></h4><ul><li>ç”¨æˆ·å¯†ç éœ€è¦åŠ å¯†åå†å†™å…¥æ•°æ®åº“</li><li>ä½¿ç”¨ç¬¬ä¸‰æ–¹å·¥å…·<code>bcrypt.js</code>å¤„ç†åŠ å¯†è§£å¯†ï¼Œå› ä¸º<code>node.js</code>è‡ªå¸¦<code>crypto</code>æ¨¡å—åŠ å¯†åçš„å¯†ç å®¹æ˜“è¢«ç ´è§£</li><li>åŠ å¯†å’Œæ ¡éªŒæ“ä½œ <ul><li>ä½¿ç”¨å“ˆå¸ŒåŠ ç›ç»™å¯†ç åŠ å¯†ï¼š<code>bcrypt.hashSync(password, 10)</code></li><li>æ ¡éªŒç”¨æˆ·å¯†ç æ˜¯å¦æ­£ç¡®ï¼š<code>bcrypt.compareSync(db_password, input_password)</code></li></ul></li></ul><h4 id="tokenç”Ÿæˆä¸æ ¡éªŒ" tabindex="-1"><a class="header-anchor" href="#tokenç”Ÿæˆä¸æ ¡éªŒ"><span>Tokenç”Ÿæˆä¸æ ¡éªŒ</span></a></h4><ul><li>ç”Ÿæˆtokenï¼Œä½¿ç”¨<code>jsonwebtoken</code>åº“ç”Ÿæˆtokenï¼š</li></ul><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-js"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> token</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> jwt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sign</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">		id</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">		username</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">username</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	}, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;secret&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, {</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">expiresIn</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;1h&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>tokenç”Ÿæˆä¼˜åŒ–ï¼šä½¿ç”¨.envæ–‡ä»¶ä¿å­˜secretï¼Œé˜²æ­¢æ³„éœ² <ul><li>å®‰è£…<code>dotenv</code>åº“ï¼š<code>pnpm add dotenv</code></li><li>åœ¨<code>app.js</code>æ–‡ä»¶ä¸­å¼•å…¥<code>dotenv</code>ï¼š<code>require(&#39;dotenv&#39;,).config()</code></li><li>åœ¨.envæ–‡ä»¶ä¸­å†™å…¥<code>SECRET=XXXXXXXXXXX</code></li><li>åœ¨ä¸Šè¿°tokenç”Ÿæˆä»£ç ä¸­ï¼Œæ›¿æ¢<code>secret</code>ä¸º<code>process.env.SECRET</code></li><li>æ³¨ï¼šgitæäº¤æ—¶ä¸ºäº†é¿å…æ³„éœ²çœŸå®tokenï¼Œå¾€å¾€ä¼šæŠŠ.envæ–‡ä»¶æ”¹ä¸º.env.exampleï¼Œå»é™¤<code>SECRET</code>çš„å€¼ï¼Œåœ¨éƒ¨ç½²åå°†.envæ–‡ä»¶å†…çš„å˜é‡æ”¹ä¸ºç”Ÿäº§ç¯å¢ƒå˜é‡</li></ul></li><li>æ¯æ¬¡è¯·æ±‚éœ€è¦éªŒè¯<code>token</code>æ˜¯å¦æœ‰æ•ˆ ï¼Œä¸å¯èƒ½åœ¨æ¯ä¸ªæ¥å£é‡Œéƒ½å†™ç”¨æˆ·æ ¡éªŒçš„ä»£ç ï¼Œè¿™é‡Œå¯é€šè¿‡ä¸­é—´ä»¶å®Œæˆã€‚ <ul><li>æ ¹ç›®å½•æ–°å»º<code>middlewares</code>æ–‡ä»¶å¤¹ï¼Œå†æ–°å»º<code>admin-auth.js</code>æ–‡ä»¶</li><li>admin-auth.jsæ–‡ä»¶å†…ä»£ç ï¼š<div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-js"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> jwt</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;jsonwebtoken&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> prisma</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> Â =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;../prisma/prismaClient&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">Â  failure</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">Â  UnauthorizedError</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">Â  NotFoundResponse</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">} </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;../utils/response&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">module</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">exports</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> async</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">req</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">res</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">next</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Â try</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Â  //åˆ¤æ–­tokenæ˜¯å¦å­˜åœ¨</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Â  const</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">token</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> req</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">headers</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Â  if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">!</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">token</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">){</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Â  Â  throw</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> UnauthorizedError</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;å¾…è®¤è¯&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Â  }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Â  const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> decoded</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> jwt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">verify</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">token</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">process</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">env</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#E06C75;">SECRET</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Â  const</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> decoded</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Â  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Â  //æŸ¥è¯¢ç”¨æˆ·æ˜¯å¦å­˜åœ¨</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Â  const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> user</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> await</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> prisma</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">findUnique</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Â  Â  where</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Â  Â  Â  id</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> id</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Â  Â  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Â  })</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Â  if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">!</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">){</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Â  Â  throw</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> UnauthorizedError</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ç”¨æˆ·ä¸å­˜åœ¨&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Â  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Â  //é€šè¿‡éªŒè¯ï¼Œå°†userå¯¹è±¡æŒ‚è½½åˆ°reqä¸Šï¼Œæ–¹ä¾¿åç»­ä¸­é—´ä»¶æˆ–è·¯ç”±ä½¿ç”¨</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Â  req</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">user</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> user</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Â  //åŠ ä¸Šnextï¼Œè¿›å…¥åç»­è·¯ç”±</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Â  next</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Â }</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">catch</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">err</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">){</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Â  failure</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">res</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">err</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Â }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li>åœ¨<code>app.js</code>æ–‡ä»¶ä¸­å¼•å…¥ï¼Œç„¶åæ·»åŠ åˆ°<code>app.use</code>ä¸­ï¼Œæ³¨æ„ç™»å½•æ¥å£ä¸èƒ½æ·»åŠ <code>token</code>æ ¡éªŒï¼Œå¦åˆ™é€»è¾‘ä¸é€š</li></ul></li></ul><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-js"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> adminAuth</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;./middlewares/admin_auth&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//...</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">app</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">use</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;/admin/xxxx&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">adminAuth</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">adminRouter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è·¯ç”±" tabindex="-1"><a class="header-anchor" href="#è·¯ç”±"><span>è·¯ç”±</span></a></h3><ul><li>è·¯ç”±éœ€è¦åœ¨<code>express.Router</code>ä¸­æŒ‚è½½ï¼Œå®Œæˆå¯¹åº”ä¸šåŠ¡ä»£ç åå¯¼å‡ºåˆ°<code>app.js</code>ä¸­å¼•ç”¨</li></ul><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-js"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> router</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> express</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Router</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">router</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;/&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, (</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">req</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">res</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">})</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">module</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">exports</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> router</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="è·¯ç”±æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#è·¯ç”±æ–¹æ³•"><span>è·¯ç”±æ–¹æ³•</span></a></h4><ul><li>GET</li><li>POST</li><li>DELETE</li><li>PUT</li><li>PATCH</li></ul><h4 id="è·¯å¾„" tabindex="-1"><a class="header-anchor" href="#è·¯å¾„"><span>è·¯å¾„</span></a></h4><ul><li><code>app.get(&#39;/&#39;, (req, res)=&gt;{...})</code>ï¼ŒåŒ¹é…<code>/</code></li><li><code>app.get(&#39;/about&#39;, (req, res)=&gt;{...})</code>ï¼ŒåŒ¹é…<code>/about</code></li><li><code>app.get(&#39;/random.txt&#39;, (req, res)=&gt;{...})</code>ï¼ŒåŒ¹é…<code>/random.txt</code></li><li><code>app.get(&#39;/ab?cd&#39;, (req, res)=&gt;{...})</code>ï¼ŒåŒ¹é…<code>/acdå’Œabcd</code></li><li><code>app.get(&#39;/ab+cd&#39;, (req, res)=&gt;{...})</code>ï¼ŒåŒ¹é…<code>abcd</code>ã€<code>abbcd</code>ã€<code>abbbcd</code>ç­‰</li><li><code>app.get(&#39;/ab*cd&#39;, (req, res)=&gt;{...})</code>ï¼ŒåŒ¹é…<code>abcd</code>ã€<code>abxcd</code>ã€<code>abREDSDbcd</code>ç­‰</li><li><code>app.get(&#39;/ab(cd)?e&#39;, (req, res)=&gt;{...})</code>ï¼ŒåŒ¹é…<code>abe</code>ã€<code>abcde</code></li><li><code>app.get(/a/, (req, res)=&gt;{...})</code>ï¼ŒåŒ¹é…ä»»ä½•å¸¦æœ‰<code>a</code>çš„å†…å®¹</li></ul><h4 id="è·¯ç”±å‚æ•°" tabindex="-1"><a class="header-anchor" href="#è·¯ç”±å‚æ•°"><span>è·¯ç”±å‚æ•°</span></a></h4><ul><li>ä½äº<code>req.params</code>å¯¹è±¡ä¸­ï¼Œå¦‚<code>req.params: { &quot;userId&quot;: &quot;34&quot;, &quot;bookId&quot;: &quot;8989&quot; }</code>ï¼Œå¯¹åº”çš„è·¯å¾„æ˜¯<code>app.get(&#39;/users/:userId/books/:bookId&#39;, (req, res) =&gt; {...})</code></li></ul><h4 id="è·¯ç”±å¤„ç†ç¨‹åº" tabindex="-1"><a class="header-anchor" href="#è·¯ç”±å¤„ç†ç¨‹åº"><span>è·¯ç”±å¤„ç†ç¨‹åº</span></a></h4><ul><li>å•ä¸ªå¤„ç†ç¨‹åº</li></ul><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-js"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">app</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;/example/a&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, (</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">req</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">res</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  res</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">send</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;Hello from A!&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">})</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¤šä¸ªå¤„ç†ç¨‹åºï¼ŒæŒ‡å®š<code>next()</code></li></ul><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-js"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">app</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;/example/b&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, (</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">req</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">res</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">next</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;the response will be sent by the next function ...&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  next</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}, (</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">req</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">res</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  res</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">send</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;Hello from B!&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">})</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä»¥æ•°ç»„å½¢å¼å¤„ç†å¤šä¸ªç¨‹åº</li></ul><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-js"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> cb0</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">req</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">res</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">next</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;CB0&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  next</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> cb1</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">req</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">res</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">next</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;CB1&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  next</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> cb2</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">req</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">res</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  res</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">send</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;Hello from C!&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">app</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;/example/c&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, [</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">cb0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">cb1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">cb2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">])</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å“åº”æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#å“åº”æ–¹å¼"><span>å“åº”æ–¹å¼</span></a></h3><ul><li><code>res.download()</code>ï¼šæç¤ºä¸‹è½½æ–‡ä»¶</li><li><code>res.end()</code>ï¼šç»“æŸå“åº”è¿›ç¨‹</li><li><code>res.json()</code>ï¼šå‘é€JSONå“åº”</li><li><code>res.jsonp()</code>ï¼šå‘é€æ”¯æŒ JSONP çš„ JSON å“åº”</li><li><code>res.redirect()</code>ï¼šé‡å®šå‘è¯·æ±‚</li><li><code>res.render()</code>ï¼šæ¸²æŸ“è§†å›¾æ ·æ¿</li><li><code>res.send()</code>ï¼šå‘é€å„ç§ç±»å‹å“åº”</li><li><code>res.status()</code>ï¼šè®¾ç½®å“åº”çš„HTTPçŠ¶æ€</li><li><code>res.type()</code>ï¼šå°†<code>Content-Type</code>æ ‡å¤´è®¾ç½®ä¸ºæŒ‡å®šç±»å‹çš„MIMEç±»å‹ï¼Œå¦‚<code>application/json</code></li><li><code>res.set()</code>ï¼šå°†HTTPæ ‡å¤´è®¾ç½®ä¸ºvalueï¼Œè¦ä¸€æ¬¡è®¾ç½®å¤šä¸ªå­—æ®µï¼Œè¯·å°†å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’</li></ul><h3 id="ä¸­é—´ä»¶" tabindex="-1"><a class="header-anchor" href="#ä¸­é—´ä»¶"><span>ä¸­é—´ä»¶</span></a></h3><p>ä¸­é—´ä»¶å‡½æ•°èƒ½å¤Ÿè®¿é—®è¯·æ±‚å¯¹è±¡<code>(req)</code>ã€å“åº”å¯¹è±¡ <code>(res)</code> ä»¥åŠåº”ç”¨ç¨‹åºçš„è¯·æ±‚/å“åº”å¾ªç¯ä¸­çš„ä¸‹ä¸€ä¸ªä¸­é—´ä»¶å‡½æ•°ã€‚ä¸‹ä¸€ä¸ªä¸­é—´ä»¶å‡½æ•°é€šå¸¸ç”±åä¸º <code>next</code> çš„å˜é‡æ¥è¡¨ç¤ºã€‚</p><ul><li>ä¸­é—´ä»¶å‡½æ•°å¯ä»¥æ‰§è¡Œä»¥ä¸‹ä»»åŠ¡ï¼š <ul><li>æ‰§è¡Œä»»ä½•ä»£ç </li><li>å¯¹è¯·æ±‚å’Œå“åº”å¯¹è±¡è¿›è¡Œæ›´æ”¹</li><li>ç»“æŸè¯·æ±‚/å“åº”å¾ªç¯</li><li>è°ƒç”¨å †æ ˆä¸­çš„ä¸‹ä¸€ä¸ªä¸­é—´ä»¶å‡½æ•°</li><li>å¦‚æœå½“å‰ä¸­é—´ä»¶å‡½æ•°æ²¡æœ‰ç»“æŸè¯·æ±‚/å“åº”å¾ªç¯ï¼Œé‚£ä¹ˆå®ƒå¿…é¡»è°ƒç”¨ <code>next()</code>ï¼Œä»¥å°†æ§åˆ¶æƒä¼ é€’ç»™ä¸‹ä¸€ä¸ªä¸­é—´ä»¶å‡½æ•°ã€‚å¦åˆ™ï¼Œè¯·æ±‚å°†ä¿æŒæŒ‚èµ·çŠ¶æ€</li></ul></li></ul><h4 id="åˆ†ç±»" tabindex="-1"><a class="header-anchor" href="#åˆ†ç±»"><span>åˆ†ç±»</span></a></h4><ul><li>åº”ç”¨å±‚ä¸­é—´ä»¶ï¼šä½¿ç”¨ app.use() å’Œ app.METHOD() å‡½æ•°å°†åº”ç”¨å±‚ä¸­é—´ä»¶ç»‘å®šåˆ°åº”ç”¨ç¨‹åºå¯¹è±¡çš„å®ä¾‹</li></ul><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-js"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">app</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">use</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;/user/:id&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">req</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">res</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">next</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;Request Type:&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">req</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">method</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  next</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è·¯ç”±å™¨å±‚ä¸­é—´ä»¶ï¼šç»‘å®šåˆ° express.Router() çš„å®ä¾‹ï¼Œä½¿ç”¨ router.use() å’Œ router.METHOD() å‡½æ•°è£…å…¥è·¯ç”±å™¨å±‚ä¸­é—´ä»¶</li></ul><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-js"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">router</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">use</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;/user/:id&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">req</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">res</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">next</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;Request URL:&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">req</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">originalUrl</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  next</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">req</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">res</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">next</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;Request Type:&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">req</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">method</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  next</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>é”™è¯¯å¤„ç†ä¸­é—´ä»¶ï¼šè¯¯å¤„ç†å‡½æ•°æœ‰å››ä¸ªè‡ªå˜é‡è€Œä¸æ˜¯ä¸‰ä¸ªï¼Œä¸“é—¨å…·æœ‰ç‰¹å¾ç¬¦ <code>(err, req, res, next)</code></li></ul><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-js"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">app</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">use</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">err</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">req</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">res</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">next</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">error</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">err</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">stack</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  res</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">status</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">500</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">send</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;Something broke!&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å†…ç½®ä¸­é—´ä»¶ï¼šä»4.xèµ·ï¼Œä»¥å•ç‹¬æ¨¡å—çš„å½¢å¼æä¾›ï¼ŒæŸ¥çœ‹<a href="https://github.com/senchalabs/connect#middleware" target="_blank" rel="noopener noreferrer">ä¸­é—´ä»¶åˆ—è¡¨</a></li><li>ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶ï¼šå®‰è£…å…·æœ‰æ‰€éœ€åŠŸèƒ½çš„ Node.js æ¨¡å—ï¼Œç„¶ååœ¨åº”ç”¨å±‚æˆ–è·¯ç”±å™¨å±‚çš„åº”ç”¨ç¨‹åºä¸­å°†å…¶åŠ è£…å…¥</li></ul><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-js"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//npm install cookie-parser</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">var</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> express</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;express&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">var</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> app</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> express</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">var</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> cookieParser</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;cookie-parser&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// load the cookie-parsing middleware</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">app</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">use</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cookieParser</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">());</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="nest-js" tabindex="-1"><a class="header-anchor" href="#nest-js"><span>Nest.js</span></a></h2><h3 id="å®‰è£…" tabindex="-1"><a class="header-anchor" href="#å®‰è£…"><span>å®‰è£…</span></a></h3><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pnpm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> add</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> @nestjs/cli</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -g</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nest</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> new</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> project-name</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å…¶ä»–å¼€å‘é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#å…¶ä»–å¼€å‘é—®é¢˜"><span>å…¶ä»–å¼€å‘é—®é¢˜</span></a></h2><h3 id="å¤„ç†è·¨åŸŸé—®é¢˜" tabindex="-1"><a class="header-anchor" href="#å¤„ç†è·¨åŸŸé—®é¢˜"><span>å¤„ç†è·¨åŸŸé—®é¢˜</span></a></h3><ul><li>å‰ç«¯é…ç½®ä»£ç†ï¼Œä½†åªèƒ½åœ¨æœ¬åœ°ç¯å¢ƒï¼ˆå¼€å‘ç¯å¢ƒï¼‰ä¸­èµ·ä½œç”¨ï¼Œéƒ¨ç½²åå¤±æ•ˆ</li><li>Nginxé…ç½®ä»£ç†ï¼Œä½†åªèƒ½åœ¨éƒ¨ç½²åç”Ÿæ•ˆ</li><li>CORSåº“ï¼Œå¼€å‘å’Œç”Ÿäº§ç¯å¢ƒéƒ½é€‚ç”¨</li></ul><h3 id="ä»£ç é£æ ¼å’Œé”™è¯¯æ£€æŸ¥" tabindex="-1"><a class="header-anchor" href="#ä»£ç é£æ ¼å’Œé”™è¯¯æ£€æŸ¥"><span>ä»£ç é£æ ¼å’Œé”™è¯¯æ£€æŸ¥</span></a></h3><ul><li>ä½¿ç”¨<code>eslint</code>å’Œ<code>prettier</code>ï¼Œé…ç½®å’Œå‰ç«¯å·®åˆ«ä¸å¤§ <ul><li>éœ€è¦å»é™¤<code>eslint</code>ä¸­å…³äº<code>react/vue</code>ç›¸å…³çš„é…ç½®</li><li><code>globals</code>ä¸º<code>node</code> ç¯å¢ƒ</li></ul></li></ul><h3 id="æ–‡ä»¶ä¸Šä¼ " tabindex="-1"><a class="header-anchor" href="#æ–‡ä»¶ä¸Šä¼ "><span>æ–‡ä»¶ä¸Šä¼ </span></a></h3><p>ä¸¤ç§æ–¹å¼ï¼šå‰ç«¯ç›´ä¼ ossï¼ŒæœåŠ¡ç«¯ä»£ç†ä¸Šä¼ oss</p><h4 id="æœåŠ¡ç«¯ä»£ç†ä¸Šä¼ oss" tabindex="-1"><a class="header-anchor" href="#æœåŠ¡ç«¯ä»£ç†ä¸Šä¼ oss"><span>æœåŠ¡ç«¯ä»£ç†ä¸Šä¼ oss</span></a></h4><ul><li>ä»¥é˜¿é‡Œäº‘ossä¸ºä¾‹ï¼Œé‡‡ç”¨multeråº“ä¸Šä¼ æ–‡ä»¶</li><li>æ­¥éª¤ï¼š <ul><li>å‡†å¤‡é˜¿é‡Œäº‘Osså¯†é’¥ç›¸å…³æ•°æ®ï¼ŒåŒ…æ‹¬bucketã€regionã€access_key_idã€accesss_key_secret</li><li>å°†å¯†é’¥ç›¸å…³æ•°æ®é…ç½®åˆ°ç¯å¢ƒå˜é‡.envæ–‡ä»¶ä¸­ï¼Œå¦‚ï¼š</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>ALIYUN_ACCESS_KEY_ID=</span></span>
<span class="line"><span>ALIYUN_ACCESS_KEY_SECRET=</span></span>
<span class="line"><span>ALIYUN_BUCKET=</span></span>
<span class="line"><span>ALIYUN_REGION=oss-cn-shanghai</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å®‰è£…SDKå’Œä¸Šä¼ åº“ï¼š<code>pnpm i ali-oss multer multer-aliyun-oss</code></li></ul></li></ul></div><!----><!----><!----></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">æœ€è¿‘æ›´æ–°</span><time class="vp-meta-info" datetime="2025-09-20T19:57:16.000Z" data-allow-mismatch>2025/9/21 03:57</time></div><div class="contributors"><span class="vp-meta-label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="vp-meta-info" title="email: yinchuanyjw@outlook.com">bestoaloe</span>,<!--]--><!--[--><span class="vp-meta-info" title="email: yinchuanyjw@outlook.com">yumuysl</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/notes/endnotes/endframe/node.js%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0.html" aria-label="Node.jsç¬”è®°"><div class="hint"><span class="arrow start"></span>ä¸Šä¸€é¡µ</div><div class="link"><i class="vp-icon fas fa-file" sizing="height"></i>Node.jsç¬”è®°</div></a><a class="route-link auto-link next" href="/notes/endnotes/endframe/Rust%E7%AC%94%E8%AE%B0.html" aria-label="rustç¬”è®°"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link">rustç¬”è®°<i class="vp-icon fas fa-file" sizing="height"></i></div></a></nav><div id="comment" class="waline-wrapper vp-comment" vp-comment darkmode="false" style="display:block;"><!----></div><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">é»˜è®¤é¡µè„š</div><div class="vp-copyright">Copyright Â© 2025 ç¦¹ç©†ç©† </div></footer></div><!--]--><!--[--><!----><!----><!--[--><!--]--><div></div><!--]--><!--]--></div>
    <script type="module" src="/assets/app-DtzJMAxv.js" defer></script>
  </body>
</html>
